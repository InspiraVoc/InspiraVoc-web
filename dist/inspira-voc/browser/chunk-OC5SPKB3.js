import{a as T,d as I,g as A,o as j}from"./chunk-6SHF5PKH.js";import{Bb as E,Cb as O,Db as V,Fb as k,Ga as s,Wa as _,_a as h,ac as P,bc as S,ca as b,cb as i,d as f,db as r,eb as M,ec as R,gb as C,jb as d,ka as l,la as c,lb as u,rb as x,sb as v,tb as w,xb as m,yb as y,zb as g}from"./chunk-4K5NKH7C.js";var F=["userVideo"];function N(a,t){if(a&1&&(i(0,"p"),m(1),r()),a&2){let e=t.$implicit;s(),y(e)}}function Q(a,t){if(a&1){let e=C();i(0,"div",10)(1,"div",11),_(2,N,2,1,"p",12),r(),i(3,"input",13),V("ngModelChange",function(n){l(e);let p=u();return O(p.newMessage,n)||(p.newMessage=n),c(n)}),d("keyup.enter",function(){l(e);let n=u();return c(n.sendMessage())}),r(),i(4,"button",7),d("click",function(){l(e);let n=u();return c(n.sendMessage())}),m(5,"Enviar"),r()()}if(a&2){let e=u();s(2),h("ngForOf",e.chatMessages),s(),E("ngModel",e.newMessage)}}var D=class a{userVideo;isCameraEnabled=!0;isAudioEnabled=!0;isChatOpen=!1;chatMessages=[];newMessage="";ngOnInit(){return f(this,null,function*(){yield this.initializeMedia()})}initializeMedia(){return f(this,null,function*(){try{let t=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});this.userVideo.nativeElement.srcObject=t,this.userVideo.nativeElement.play()}catch(t){console.error("Error accessing media devices.",t)}})}toggleCamera(){this.isCameraEnabled=!this.isCameraEnabled;let t=this.userVideo.nativeElement.srcObject;t.getVideoTracks()[0].enabled=this.isCameraEnabled}toggleAudio(){this.isAudioEnabled=!this.isAudioEnabled;let t=this.userVideo.nativeElement.srcObject;t.getAudioTracks()[0].enabled=this.isAudioEnabled}toggleChat(){this.isChatOpen=!this.isChatOpen}sendMessage(){this.newMessage.trim()&&(this.chatMessages.push(this.newMessage),this.newMessage="")}ngOnDestroy(){let t=this.userVideo.nativeElement.srcObject;t&&t.getTracks().forEach(e=>e.stop())}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=b({type:a,selectors:[["app-reunion-mentor"]],viewQuery:function(e,o){if(e&1&&x(F,5),e&2){let n;v(n=w())&&(o.userVideo=n.first)}},standalone:!0,features:[k],decls:17,vars:4,consts:[["userVideo",""],[1,"video-call-container"],[1,"left-section"],["src","assets/images/estudiante.jpg","alt","Estudiante",1,"mentor-image"],[1,"right-section"],["autoplay","","muted",""],[1,"controls"],[3,"click"],[1,"material-icons-sharp"],["class","chat-panel",4,"ngIf"],[1,"chat-panel"],[1,"chat-messages"],[4,"ngFor","ngForOf"],["placeholder","Escribe un mensaje...",3,"ngModelChange","keyup.enter","ngModel"]],template:function(e,o){if(e&1){let n=C();i(0,"div",1)(1,"div",2),M(2,"img",3),r(),i(3,"div",4),M(4,"video",5,0),r()(),i(6,"div",6)(7,"button",7),d("click",function(){return l(n),c(o.toggleCamera())}),i(8,"span",8),m(9),r()(),i(10,"button",7),d("click",function(){return l(n),c(o.toggleAudio())}),i(11,"span",8),m(12),r()(),i(13,"button",7),d("click",function(){return l(n),c(o.toggleChat())}),i(14,"span",8),m(15),r()()(),_(16,Q,6,2,"div",9)}e&2&&(s(9),g(" ",o.isCameraEnabled?"videocam":"videocam_off"," "),s(3),g(" ",o.isAudioEnabled?"mic":"mic_off"," "),s(3),g(" ",o.isChatOpen?"chat":"chat_bubble_outline"," "),s(),h("ngIf",o.isChatOpen))},dependencies:[R,P,S,j,T,I,A],styles:[".video-call-container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 100px);padding:20px}.left-section[_ngcontent-%COMP%], .right-section[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.left-section[_ngcontent-%COMP%]{background-color:#f5f5f5}.mentor-image[_ngcontent-%COMP%]{max-width:80%;border-radius:8px}.right-section[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;max-width:80%;border-radius:8px;background-color:#000}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:24px;color:#ff7f11}.chat-panel[_ngcontent-%COMP%]{position:fixed;right:0;top:0;width:300px;height:100vh;background-color:#fff;box-shadow:-2px 0 5px #0000001a;display:flex;flex-direction:column;padding:20px}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;margin-bottom:10px}.chat-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:5px;width:calc(100% - 60px);margin-right:10px}.chat-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff7f11;color:#fff;border:none;border-radius:5px;padding:10px;cursor:pointer}"]})};export{D as ReunionMentorComponent};
