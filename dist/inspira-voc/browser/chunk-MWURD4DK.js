import{m as U,n as q}from"./chunk-IOV6ZOCI.js";import"./chunk-XAZLOLJU.js";import{d as I}from"./chunk-7VFEERG5.js";import{a as R}from"./chunk-XEWQXH6G.js";import{a as T,d as N,e as O,f as W,g as z,h as F,l as D,o as B,p as L}from"./chunk-6SHF5PKH.js";import{Ab as w,Bb as f,Ca as S,Cb as x,Db as _,Fb as V,Ga as a,Ha as y,Wa as P,_a as g,aa as v,bc as A,ca as E,cb as n,db as i,eb as b,ec as k,gb as h,jb as p,ka as c,la as d,lb as s,xb as r,yb as M,zb as C}from"./chunk-4K5NKH7C.js";function j(u,m){if(u&1){let e=h();n(0,"div",11)(1,"p"),r(2,"\xBFEst\xE1 seguro de eliminar su perfil?"),b(3,"br"),r(4,"Esta acci\xF3n es permanente."),i(),n(5,"button",8),p("click",function(){c(e);let t=s(2);return d(t.deteleUser())}),r(6,"S\xED"),i(),n(7,"button",8),p("click",function(){c(e);let t=s(2);return d(t.cancelDel())}),r(8,"No"),i()()}}function H(u,m){if(u&1){let e=h();n(0,"div",5)(1,"h3"),r(2,"Perfil de Usuario"),i(),n(3,"p")(4,"strong"),r(5,"Nombre:"),i(),r(6),i(),n(7,"p")(8,"strong"),r(9,"Email:"),i(),r(10),i(),n(11,"p")(12,"strong"),r(13,"Tel\xE9fono:"),i(),r(14),i(),n(15,"p")(16,"strong"),r(17,"Rol:"),i(),r(18),i(),n(19,"div",7)(20,"button",8),p("click",function(){c(e);let t=s();return d(t.toggleEdit())}),r(21,"Editar"),i(),n(22,"button",9),p("click",function(){c(e);let t=s();return d(t.openConfirmationDialog())}),r(23,"Eliminar cuenta"),i(),P(24,j,9,0,"div",10),i()()}if(u&2){let e=s();a(6),w(" ",e.userProfile.firstName," ",e.userProfile.lastName,""),a(4),C(" ",e.userProfile.email,""),a(4),C(" ",e.userProfile.phone,""),a(4),C(" ",e.userProfile.role,""),a(6),g("ngIf",e.showConfirmation)}}function J(u,m){if(u&1){let e=h();n(0,"div",5)(1,"h3"),r(2,"Editar Perfil"),i(),n(3,"form",12),p("ngSubmit",function(){c(e);let t=s();return d(t.saveProfile())}),n(4,"label"),r(5," Nombre: "),n(6,"input",13),_("ngModelChange",function(t){c(e);let l=s();return x(l.userProfile.firstName,t)||(l.userProfile.firstName=t),d(t)}),i()(),n(7,"label"),r(8," Apellido: "),n(9,"input",14),_("ngModelChange",function(t){c(e);let l=s();return x(l.userProfile.lastName,t)||(l.userProfile.lastName=t),d(t)}),i()(),n(10,"label"),r(11," Email: "),n(12,"input",15),_("ngModelChange",function(t){c(e);let l=s();return x(l.userProfile.email,t)||(l.userProfile.email=t),d(t)}),i()(),n(13,"label"),r(14," Tel\xE9fono: "),n(15,"input",16),_("ngModelChange",function(t){c(e);let l=s();return x(l.userProfile.phone,t)||(l.userProfile.phone=t),d(t)}),i()(),n(16,"label"),r(17," Rol: "),n(18,"input",17),_("ngModelChange",function(t){c(e);let l=s();return x(l.userProfile.role,t)||(l.userProfile.role=t),d(t)}),i()(),n(19,"label"),r(20," Imagen de Perfil: "),n(21,"input",18),p("change",function(t){c(e);let l=s();return d(l.onFileSelected(t))}),i()(),n(22,"button",19),r(23,"Guardar"),i(),n(24,"button",20),p("click",function(){c(e);let t=s();return d(t.toggleEdit())}),r(25,"Cancelar"),i()()()}if(u&2){let e=s();a(6),f("ngModel",e.userProfile.firstName),a(3),f("ngModel",e.userProfile.lastName),a(3),f("ngModel",e.userProfile.email),a(3),f("ngModel",e.userProfile.phone),a(3),f("ngModel",e.userProfile.role)}}function K(u,m){if(u&1){let e=h();n(0,"div")(1,"div",21)(2,"p"),r(3),i()(),n(4,"div",21)(5,"p"),r(6),i()(),n(7,"div",21)(8,"p"),r(9),i()(),n(10,"button",8),p("click",function(){c(e);let t=s();return d(t.toggleEditPreferences())}),r(11,"Editar Preferencias"),i()()}if(u&2){let e=s();a(3),C("Descripci\xF3n: ",e.interestsAux||"Apoyo a estudiantes a identificar sus fortalezas y a planificar su futuro profesional acorde a sus intereses.",""),a(3),C("Aficiones: ",e.languageAux||"Mentor\xEDa para jovenes, Participaci\xF3n en talleres de desarrollo personal.",""),a(3),C("Gustos: ",e.timezoneAux||"Orientaci\xF3n vocacional, Psicolog\xEDa educativa, Coaching Profesional.","")}}function Q(u,m){if(u&1){let e=h();n(0,"div")(1,"form",12),p("ngSubmit",function(){c(e);let t=s();return d(t.savePreferences())}),n(2,"label"),r(3," Descripci\xF3n: "),n(4,"input",22),_("ngModelChange",function(t){c(e);let l=s();return x(l.interestsAux,t)||(l.interestsAux=t),d(t)}),i()(),n(5,"label"),r(6," Aficiones: "),n(7,"input",23),_("ngModelChange",function(t){c(e);let l=s();return x(l.languageAux,t)||(l.languageAux=t),d(t)}),i()(),n(8,"label"),r(9," Gustos: "),n(10,"input",24),_("ngModelChange",function(t){c(e);let l=s();return x(l.timezoneAux,t)||(l.timezoneAux=t),d(t)}),i()(),n(11,"button",19),r(12,"Guardar Preferencias"),i(),n(13,"button",20),p("click",function(){c(e);let t=s();return d(t.toggleEditPreferences())}),r(14,"Cancelar"),i()()()}if(u&2){let e=s();a(4),f("ngModel",e.interestsAux),g("placeholder","Apoyo a estudiantes a identificar sus fortalezas y a planificar su futuro profesional acorde a sus intereses."),a(3),f("ngModel",e.languageAux),g("placeholder","Mentor\xEDa para jovenes, Participaci\xF3n en talleres de desarrollo personal."),a(3),f("ngModel",e.timezoneAux),g("placeholder","Orientaci\xF3n vocacional, Psicolog\xEDa educativa, Coaching Profesional.")}}var G=class u{constructor(m){this.authService=m}userProfile={id:0,firstName:"",lastName:"",email:"",password:"",role:"",phone:"",preferences:{interests:"",language:"",timezone:""}};snackBar=v(U);router=v(I);isEditing=!1;isEditingPreferences=!1;showConfirmation=!1;interestsAux=this.userProfile.preferences?.interests??"";languageAux=this.userProfile.preferences?.language??"";timezoneAux=this.userProfile.preferences?.timezone??"";ngOnInit(){let m=this.authService.getCurrentUser();m&&(this.userProfile=m,this.loadAuxPreferences())}loadAuxPreferences(){this.userProfile.preferences=this.userProfile.preferences||{interests:"",language:"",timezone:""},this.interestsAux=this.userProfile.preferences.interests,this.languageAux=this.userProfile.preferences.language,this.timezoneAux=this.userProfile.preferences.timezone}toggleEdit(){this.isEditing=!this.isEditing}deteleUser(){this.authService.deleteCurrentUser(),this.router.navigate(["/login"]),this.snackBar.open("Cuenta elimina con \xE9xito. Esperamos volver a verlo.","Cerrar",{duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})}toggleEditPreferences(){this.isEditingPreferences=!this.isEditingPreferences}saveProfile(){this.authService.updateProfile(this.userProfile),this.isEditing=!1}savePreferences(){this.userProfile.preferences?(this.userProfile.preferences.interests=this.interestsAux,this.userProfile.preferences.language=this.languageAux,this.userProfile.preferences.timezone=this.timezoneAux):this.userProfile.preferences={interests:this.interestsAux,language:this.languageAux,timezone:this.timezoneAux},this.authService.updateProfile(this.userProfile),this.isEditingPreferences=!1}onFileSelected(m){let e=m.target.files?.[0];if(e){let o=new FileReader;o.onload=()=>{this.userProfile.profileImage=o.result},o.readAsDataURL(e)}}openConfirmationDialog(){this.showConfirmation=!0}cancelDel(){this.showConfirmation=!1}static \u0275fac=function(e){return new(e||u)(y(R))};static \u0275cmp=E({type:u,selectors:[["app-cuenta"]],standalone:!0,features:[V],decls:19,vars:10,consts:[[1,"dashboard-container"],[1,"sidebar"],["alt","Foto de perfil",3,"src"],[1,"main-content"],["class","section-card",4,"ngIf"],[1,"section-card"],[4,"ngIf"],[1,"buttons-container"],[3,"click"],[1,"del-button",3,"click"],["class","confirmation-dialog",4,"ngIf"],[1,"confirmation-dialog"],[3,"ngSubmit"],["name","fName","required","",3,"ngModelChange","ngModel"],["name","lName","required","",3,"ngModelChange","ngModel"],["name","email","required","",3,"ngModelChange","ngModel"],["name","phone","required","",3,"ngModelChange","ngModel"],["name","role","required","",3,"ngModelChange","ngModel"],["type","file",3,"change"],["type","submit"],["type","button",1,"cancel-button",3,"click"],[1,"icon-section"],["name","interestsAux","required","",3,"ngModelChange","ngModel","placeholder"],["name","languageAux","required","",3,"ngModelChange","ngModel","placeholder"],["name","timezoneAux","required","",3,"ngModelChange","ngModel","placeholder"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1),b(2,"img",2),n(3,"h2"),r(4),i(),n(5,"p"),r(6),i(),n(7,"p"),r(8),i(),n(9,"p"),r(10),i()(),n(11,"div",3),P(12,H,25,6,"div",4)(13,J,26,5,"div",4),n(14,"div",5)(15,"h3"),r(16,"Preferencias"),i(),P(17,K,12,3,"div",6)(18,Q,15,6,"div",6),i()()()),e&2&&(a(2),g("src",o.userProfile.profileImage,S),a(2),w("",o.userProfile.firstName," ",o.userProfile.lastName,""),a(2),M(o.userProfile.email),a(2),M(o.userProfile.phone),a(2),M(o.userProfile.role),a(2),g("ngIf",!o.isEditing),a(),g("ngIf",o.isEditing),a(4),g("ngIf",!o.isEditingPreferences),a(),g("ngIf",o.isEditingPreferences))},dependencies:[k,A,B,F,T,N,O,D,z,W,L,q],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;gap:20px;font-family:Arial,sans-serif;background-color:#f5f6fa;padding:20px;border-radius:16px;box-shadow:0 4px 12px #0000001a}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#f0f4ff;border-radius:16px;padding:20px;display:flex;flex-direction:column;align-items:center;text-align:center;box-shadow:0 4px 10px #0000001a}.sidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;color:#333;margin-bottom:5px}.sidebar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin:5px 0}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.section-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 10px #0000001a}.section-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#333;margin-bottom:15px}.icon-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;font-size:1.1em}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}button[_ngcontent-%COMP%]{padding:10px 20px;color:#fff;background-color:#3b82f6;border:none;border-radius:8px;cursor:pointer;font-weight:700}.del-button[_ngcontent-%COMP%]{background-color:red}button.cancel-button[_ngcontent-%COMP%]{background-color:#f60;margin-left:10px}label[_ngcontent-%COMP%]{display:block;margin:10px 0 5px;font-weight:700;color:#555}input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:8px;background-color:#f0f2f5}.confirmation-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #f0a500;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 8px #0003;z-index:1000}"]})};export{G as CuentaMentorComponent};
